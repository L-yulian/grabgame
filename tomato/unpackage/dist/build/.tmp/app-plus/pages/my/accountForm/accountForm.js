(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/accountForm/accountForm"],{"0849":function(e,t,n){"use strict";n.r(t);var r=n("6c78"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t["default"]=a.a},4294:function(e,t,n){"use strict";n.r(t);var r=n("6aa1"),a=n("0849");for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);n("b82d");var s=n("2877"),c=Object(s["a"])(a["default"],r["a"],r["b"],!1,null,null,null);t["default"]=c.exports},"4ae9":function(e,t,n){"use strict";e.exports={error:"",check:function(e,t){for(var n=0;n<t.length;n++){if(!t[n].checkType)return!0;if(!t[n].name)return!0;if(!t[n].errorMsg)return!0;if(!e[t[n].name])return this.error=t[n].errorMsg,!1;switch(t[n].checkType){case"string":var r=new RegExp("^.{"+t[n].checkRule+"}$");if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"int":r=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[n].checkRule+"}$");if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[n].name]))return this.error=t[n].errorMsg,!1;var a=t[n].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[n].name]>a[1]||e[t[n].name]<a[0])return this.error=t[n].errorMsg,!1;break;case"betweenD":r=/^-?[1-9][0-9]?$/;if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;a=t[n].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[n].name]>a[1]||e[t[n].name]<a[0])return this.error=t[n].errorMsg,!1;break;case"betweenF":r=/^-?[0-9][0-9]?.+[0-9]+$/;if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;a=t[n].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[n].name]>a[1]||e[t[n].name]<a[0])return this.error=t[n].errorMsg,!1;break;case"same":if(e[t[n].name]!=t[n].checkRule)return this.error=t[n].errorMsg,!1;break;case"notsame":if(e[t[n].name]==t[n].checkRule)return this.error=t[n].errorMsg,!1;break;case"email":r=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"phoneno":r=/^1[0-9]{10,10}$/;if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"zipcode":r=/^[0-9]{6}$/;if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"reg":r=new RegExp(t[n].checkRule);if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"in":if(-1==t[n].checkRule.indexOf(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"notnull":if(null==e[t[n].name]||e[t[n].name].length<1)return this.error=t[n].errorMsg,!1;break}}return!0},isNumber:function(e){var t=/^-?[1-9][0-9]?.?[0-9]*$/;return t.test(e)}}},"6aa1":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:"uni-padding-wrap"},[n("form",{attrs:{eventid:"13e5c6e5-6"},on:{submit:e.formSubmit,reset:e.formReset}},[n("view",[n("view",{staticClass:"uni-title"},[e._v("姓名")]),n("view",{staticClass:"uni-list"},[n("view",{staticClass:"uni-list-cell"},[n("input",{staticClass:"uni-input",attrs:{name:"accountname",placeholder:"请填写您的昵称",eventid:"13e5c6e5-0"},on:{input:e.getName}})])])]),n("view",{staticClass:"uni-title"},[e._v("提现类型")]),n("view",{staticClass:"uni-list"},[n("view",{staticClass:"uni-list-cell"},[n("view",{staticClass:"uni-list-cell-left"},[e._v("当前选择：")]),n("view",{staticClass:"uni-list-cell-db"},[n("picker",{attrs:{value:e.index,range:e.array,eventid:"13e5c6e5-1"},on:{change:e.bindPickerChange}},[n("view",{staticClass:"uni-input"},[e._v(e._s(e.array[e.index]))])])],1)])]),n("view",[n("view",{staticClass:"uni-title"},[e._v("提现账户")]),n("view",{staticClass:"uni-list"},[n("view",{staticClass:"uni-list-cell"},[n("input",{staticClass:"uni-input",attrs:{type:"number",name:"banknumber",placeholder:"请填写您的提现账户",eventid:"13e5c6e5-2"},on:{input:e.getBankNumber}})])])]),1==e.index?n("block",[n("view",[n("view",{staticClass:"uni-list uni-common-mt"},[n("view",{staticClass:"uni-list-cell"},[n("input",{staticClass:"uni-input",attrs:{name:"nakname",placeholder:"请填写您的开户银行",eventid:"13e5c6e5-3"},on:{input:e.getNakName}})])])]),n("view",[n("view",{staticClass:"uni-list uni-common-mt"},[n("view",{staticClass:"uni-list-cell"},[n("input",{staticClass:"uni-input",attrs:{name:"merchantCode",placeholder:"请填写您的开户银行所在地",eventid:"13e5c6e5-4"},on:{input:e.getMerchantCode}})])])]),n("view",[n("view",{staticClass:"uni-list uni-common-mt"},[n("view",{staticClass:"uni-list-cell"},[n("input",{staticClass:"uni-input",attrs:{type:"number",maxlength:"11",name:"phone",placeholder:"请填写您的银行卡预留手机号",eventid:"13e5c6e5-5"},on:{input:e.getPhone}})])])])]):e._e(),n("view",{staticClass:"uni-btn-v uni-common-mt"},[n("button",{staticClass:"btn-submit",attrs:{formType:"submit",type:"primary"}},[e._v("提交")]),n("button",{attrs:{type:"default",formType:"reset"}},[e._v("重置")])],1)],1)],1)])},a=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},"6c78":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("4ae9"),a={data:function(){return{title:"表单验证",array:["支付宝","银行卡"],index:0,changeCardid:0,backpages:!1,accountname:"",cardtypes:"",banknumber:"",bankName:"",MerchantCode:"",phone:""}},onLoad:function(e){e.changeCardid&&(this.backpages=!0,this.index=e.changeCardid-1,this.changeCardid=e.changeCardid),e.pid&&(this.index=e.pid)},methods:{formSubmit:function(t){var n=this,a=[{name:"accountname",checkType:"reg",checkRule:"^[一-龥]+(·[一-龥]+)*$",errorMsg:"请检查姓名输入是否有误"},{name:"banknumber",checkType:"notnull",checkRule:"",errorMsg:"请填写提现账户"},{name:"nakname",checkType:"notnull",checkRule:"",errorMsg:"请填写开户银行"},{name:"merchantCode",checkType:"notnull",checkRule:"",errorMsg:"请填写开户银行所在地"},{name:"phone",checkType:"notnull",checkRule:"",errorMsg:"请填写开户银行预留电话"}],i=t.detail.value;if(0==this.index)a=[{name:"accountname",checkType:"reg",checkRule:"^[一-龥]+(·[一-龥]+)*$",errorMsg:"请检查姓名输入是否有误"},{name:"banknumber",checkType:"notnull",checkRule:"",errorMsg:"请填写提现账户"}];var s=r.check(i,a);s?this.$utils.tRequest({url:this.$webUrl+"user_bank_edit",method:"GET",data:{id:0,cardtypes:this.cardtypesFun(),accountname:this.accountname,banknumber:this.banknumber,bankName:this.bankName,MerchantCode:this.MerchantCode,phone:this.phone},success:function(t){0==t.code?(n.setCashInfo(n.cardtypes),e.showModal({title:"提示",content:"添加成功！",showCancel:!1,cancelText:"",confirmText:"确定",success:function(t){switch(n.cardtypes){case 3:e.redirectTo({url:"../myAlipay/myAlipay?addid=3&changeCardid="+n.changeCardid+"&backpages="+n.backpages});break;case 1:e.redirectTo({url:"../myBankCard/myBankCard?addid=1&changeCardid="+n.changeCardid+"&backpages="+n.backpages});break;default:break}}})):2e3==t.code&&e.showModal({title:"提示",content:t.msg,showCancel:!1,cancelText:"",confirmText:"确定"})},fail:function(){},complete:function(){}}):e.showToast({title:r.error,icon:"none"})},formReset:function(e){console.log(this)},bindPickerChange:function(e){this.index=e.target.value},cardtypesFun:function(){switch(this.array[this.index]){case"支付宝":return this.cardtypes=3;case"银行卡":return this.cardtypes=1;default:break}},getName:function(e){this.accountname=e.target.value},getBankNumber:function(e){this.banknumber=e.target.value},getNakName:function(e){this.bankName=e.target.value},getMerchantCode:function(e){this.MerchantCode=e.target.value},getPhone:function(e){this.phone=e.target.value},setCashInfo:function(e){var t=this;1==e?this.$utils.tRequest({url:this.$webUrl+"user_bank_list",method:"GET",data:{page:1,pagesize:20,cardtypes:1},success:function(e){0===e.code&&t.$store.commit("setBankList",e.data.list)},fail:function(){},complete:function(){}}):3==e&&this.$utils.tRequest({url:this.$webUrl+"user_bank_list",method:"GET",data:{page:1,pagesize:20,cardtypes:3},success:function(e){0===e.code&&t.$store.commit("setAliList",e.data.list)},fail:function(){},complete:function(){}})}},computed:{}};t.default=a}).call(this,n("649d")["default"])},"8cd4":function(e,t,n){},b82d:function(e,t,n){"use strict";var r=n("8cd4"),a=n.n(r);a.a},cf60:function(e,t,n){"use strict";n("316d");var r=i(n("b0ce")),a=i(n("4294"));function i(e){return e&&e.__esModule?e:{default:e}}Page((0,r.default)(a.default))}},[["cf60","common/runtime","common/vendor"]]]);