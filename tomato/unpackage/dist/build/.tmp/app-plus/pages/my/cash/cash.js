(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/cash/cash"],{"327a":function(t,e,n){},"3a16":function(t,e,n){"use strict";n.r(e);var i=n("5e77"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=s.a},"50e0":function(t,e,n){"use strict";n("316d");var i=a(n("b0ce")),s=a(n("c2af"));function a(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},"5e77":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(n("be9e")),s=c(n("8574")),a=c(n("1338"));function c(t){return t&&t.__esModule?t:{default:t}}var u=1,o=10,r=null,l={data:function(){return{items:["我的余额","我的收益"],current:0,activeColor:"#fc3a39",styleType:"button",shows:1,list:[],amount:"0",curAccount:"",nums:""}},onLoad:function(){this.loadList(!1)},onReachBottom:function(){var t=this;null!=r&&clearTimeout(r),r=setTimeout(function(){t.loadList(!0)},1e3)},methods:{back:function(){t.reLaunch({url:"../my"})},onClickItem:function(t){this.current!==t&&(this.current=t)},styleChange:function(t){var e=t.target.value;if(this.styleType!==e){this.styleType=e;for(var n=0;n<this.styles.length;n++)if(this.styles[n].value===e){this.styleIndex=n;break}}},alipay:function(){this.shows=1},bankCard:function(){this.shows=2},loadList:function(t){var e=this;t?u++:e.list=[],this.$utils.tRequest({url:this.$webUrl+"user_amount_list",method:"GET",data:{page:u,pagesize:o},success:function(n){0==n.code&&(n.data.list.length>0?e.list=e.list.concat(n.data.list):t&&u--)},fail:function(){},complete:function(){}})},changeCard:function(e){var n=this;switch(e){case"alipay":t.navigateTo({url:"../myAlipay/myAlipay?changeCardid=1",success:function(t){setTimeout(function(){n.shows=1},500)}});break;case"bankCard":t.navigateTo({url:"../myBankCard/myBankCard?changeCardid=2",success:function(t){setTimeout(function(){n.shows=2},500)}});break;default:break}},amountFun:function(t){this.amount=t.target.value},submitFun:function(){var e=/^[0]\d*$/;if(e.test(this.amount)||0==this.amount)return t.showToast({title:"请检查输入金额是否有误",mask:!1,duration:1500,icon:"none"}),!1;if(this.amount>this.user.amount)return t.showToast({title:"提现金额不得超过我的余额",mask:!1,duration:1500,icon:"none"}),!1;var n=this.$store.getters.getAliList,i=this.$store.getters.getBankList;switch(this.shows){case 1:this.curAccount="",this.checkDataLength(n);break;case 2:this.curAccount="",this.checkDataLength(i);break;default:break}},checkDataLength:function(e){if(0===e.length)return t.showToast({title:"请检查提现账户是否有误",mask:!1,duration:1500,icon:"none"}),!1;this.curAccount=e[0].id;var n=this;this.$utils.tRequest({url:this.$webUrl+"user_drawrequest_add",method:"GET",data:{bankid:n.curAccount,amount:n.amount,remark:""},success:function(e){0==e.code?t.showModal({title:"提示",content:e.msg,showCancel:!1,cancelText:"",confirmText:"确定",success:function(t){n.shows=1,n.nums=""}}):2e3==e.code&&t.showModal({title:"提示",content:e.msg,showCancel:!1,cancelText:"",confirmText:"确定"})},fail:function(){},complete:function(){}})}},computed:{passUserName:function(){return this.$utils.defaultPlusXing(this.user.user_name)},user:function(){return this.$store.getters.getUserInfo},aliAccount:function(){var t=this,e=this.$store.getters.getAliList;return 0===e.length?"请添加支付宝账号":(t.curAccount=e[0].id,e[0].banknumber)},bankAccount:function(){var t=this.$store.getters.getBankList;return 0===t.length?"请添加银行卡账号":t[0].banknumber}},components:{uniNavBar:i.default,uniIcon:s.default,uniSegmentedControl:a.default}};e.default=l}).call(this,n("649d")["default"])},a5f7:function(t,e,n){"use strict";var i=n("327a"),s=n.n(i);s.a},c2af:function(t,e,n){"use strict";n.r(e);var i=n("f6da"),s=n("3a16");for(var a in s)"default"!==a&&function(t){n.d(e,t,function(){return s[t]})}(a);n("a5f7");var c=n("2877"),u=Object(c["a"])(s["default"],i["a"],i["b"],!1,null,null,null);e["default"]=u.exports},f6da:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"t-common-font"},[n("view",{staticClass:"uni-padding-wrap uni-common-mt"},[n("uni-segmented-control",{attrs:{current:t.current,values:t.items,styleType:t.styleType,activeColor:t.activeColor,eventid:"2f6f32e1-0",mpcomid:"2f6f32e1-0"},on:{clickItem:t.onClickItem}})],1),n("view",{staticClass:"content"},[n("view",{directives:[{name:"show",rawName:"v-show",value:0===t.current,expression:"current === 0"}],staticClass:"uni-common-mt balance"},[n("view",{staticClass:"uni-form-item uni-column",staticStyle:{position:"relative"}},[n("span",{staticClass:"tixian-tit"},[t._v("提现金额")]),n("input",{staticClass:"uni-input bradius",staticStyle:{"text-align":"right"},attrs:{type:"digit",placeholder:t.amount,value:t.nums,eventid:"2f6f32e1-1"},on:{input:t.amountFun}})]),n("p",[t._v("我的余额：￥"+t._s(t.user.amount))]),n("view",{staticClass:"uni-flex uni-row paytype bradius",class:{active:1===t.shows},attrs:{eventid:"2f6f32e1-3"},on:{click:t.alipay}},[t._m(0),n("view",{staticClass:"text",attrs:{eventid:"2f6f32e1-2"},on:{click:function(e){t.changeCard("alipay")}}},[t._v("支付宝("+t._s(t.aliAccount)+")"),n("uni-icon",{attrs:{type:"arrowright",size:"24",color:"#666",mpcomid:"2f6f32e1-1"}})],1)]),n("view",{staticClass:"uni-flex uni-row paytype uni-common-mt bradius",class:{active:2===t.shows},attrs:{eventid:"2f6f32e1-5"},on:{click:t.bankCard}},[t._m(1),n("view",{staticClass:"text",attrs:{eventid:"2f6f32e1-4"},on:{click:function(e){t.changeCard("bankCard")}}},[t._v(t._s(t.bankAccount)),n("uni-icon",{attrs:{type:"arrowright",size:"24",color:"#666",mpcomid:"2f6f32e1-2"}})],1)]),n("p",{staticClass:"uni-common-mt"},[t._v("提示说明：20元起提现手续费为1%")]),n("button",{staticClass:"commitBtn uni-common-mt",attrs:{eventid:"2f6f32e1-6"},on:{click:t.submitFun}},[t._v("立即提交")])],1),n("view",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current === 1"}],staticClass:"uni-center uni-common-mt"},t._l(t.list,function(e,i){return n("view",{key:i,staticClass:"uni-list-cell"},[n("view",{staticClass:"uni-list-cell-navigate t-cell"},[n("view",{staticClass:"cell-textinfo",staticStyle:{flex:"0.5"}},[n("view",[t._v(t._s(e.user_name))]),n("view",[t._v(t._s(e.add_time))])]),n("view",{staticClass:"cell-right",staticStyle:{flex:"1"}},[n("view",[t._v(t._s(e.value))]),n("view",[t._v(t._s(e.remark))])])])])}))])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"text pays"},[n("image",{attrs:{src:"../../../static/img/withdraw_ali_icon.png",mode:"widthFix"}}),n("span",[t._v("提现到支付宝")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"text pays"},[n("image",{attrs:{src:"../../../static/img/ic_card.png",mode:"widthFix"}}),n("span",[t._v("提现到银行卡")])])}];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s})}},[["50e0","common/runtime","common/vendor"]]]);